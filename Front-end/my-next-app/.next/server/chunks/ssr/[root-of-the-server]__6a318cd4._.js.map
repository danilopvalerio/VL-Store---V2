{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/danil/OneDrive/Documentos/2025/P6/web/Projeto/Front-end/my-next-app/src/ui/components/products/ProductCardComponent.tsx"],"sourcesContent":["const openDetailedProduct = async (referencia: string) => {\r\n  try {\r\n    const jwtToken = localStorage.getItem(\"jwtToken\");\r\n    const userData = localStorage.getItem(\"userData\");\r\n\r\n    if (!jwtToken || !userData) {\r\n      console.error(\"Usuário não autenticado.\");\r\n      return;\r\n    }\r\n\r\n    const { id_loja } = JSON.parse(userData);\r\n\r\n    const response = await axios.get(\r\n      `http://localhost:9700/api/produtos/loja/${id_loja}/referencia/${referencia}`,\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${jwtToken}`,\r\n        },\r\n        timeout: 2000,\r\n      }\r\n    );\r\n\r\n    console.log(\"Produto recebido:\", response.data);\r\n\r\n    localStorage.setItem(\"selectedProduct\", JSON.stringify(response.data));\r\n\r\n    router.push(\"/productDetail\");\r\n  } catch (error) {\r\n    console.error(\"Erro na requisição:\", error);\r\n    alert(\"Erro desconhecido, tente novamente mais tarde.\");\r\n  }\r\n};\r\n"],"names":[],"mappings":"AAAA,MAAM,sBAAsB,OAAO;IACjC,IAAI;QACF,MAAM,WAAW,aAAa,OAAO,CAAC;QACtC,MAAM,WAAW,aAAa,OAAO,CAAC;QAEtC,IAAI,CAAC,YAAY,CAAC,UAAU;YAC1B,QAAQ,KAAK,CAAC;YACd;QACF;QAEA,MAAM,EAAE,OAAO,EAAE,GAAG,KAAK,KAAK,CAAC;QAE/B,MAAM,WAAW,MAAM,MAAM,GAAG,CAC9B,CAAC,wCAAwC,EAAE,QAAQ,YAAY,EAAE,YAAY,EAC7E;YACE,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,UAAU;YACrC;YACA,SAAS;QACX;QAGF,QAAQ,GAAG,CAAC,qBAAqB,SAAS,IAAI;QAE9C,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC,SAAS,IAAI;QAEpE,OAAO,IAAI,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/danil/OneDrive/Documentos/2025/P6/web/Projeto/Front-end/my-next-app/src/pages/productsPage.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport ProductCard from \"@/ui/components/products/ProductCardComponent\";\r\nimport { useRouter } from \"next/router\";\r\nimport \"../../public/css/products.css\";\r\nimport \"../../public/css/general.css\";\r\n\r\nconst ProductPage = () => {\r\n  const [produtos, setProdutos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [totalItems, setTotalItems] = useState(0);\r\n  const router = useRouter();\r\n\r\n  const LIMIT: number = 6; // Limite fixo de itens por página\r\n\r\n  const pushAddProductPage = () => {\r\n    router.push(\"AddProductPage\");\r\n  };\r\n\r\n  const pushBackToMenu = () => {\r\n    router.push(\"menuPage\");\r\n  };\r\n\r\n  const fetchProducts = async (page: number) => {\r\n    const jwtToken = localStorage.getItem(\"jwtToken\");\r\n    const userData = localStorage.getItem(\"userData\");\r\n\r\n    if (!jwtToken || !userData) {\r\n      router.push(\"/initialPage\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const parsedData = JSON.parse(userData);\r\n      const idLoja = parsedData.id_loja;\r\n\r\n      const response = await axios.get(\r\n        `http://localhost:9700/api/produtos/loja/${idLoja}/paginado?page=${page}&limit=${LIMIT}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${jwtToken}`,\r\n          },\r\n          timeout: 2000,\r\n        }\r\n      );\r\n\r\n      setProdutos(response.data.data);\r\n      setCurrentPage(response.data.page);\r\n      setTotalPages(response.data.totalPages);\r\n      setTotalItems(response.data.totalItems);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error(\"Erro ao carregar produtos:\", error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProducts(1);\r\n  }, [router]);\r\n\r\n  const handleNextPage = () => {\r\n    if (currentPage < totalPages) {\r\n      fetchProducts(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  const handlePrevPage = () => {\r\n    if (currentPage > 1) {\r\n      fetchProducts(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-between align-items-center flex-column\">\r\n      <header className=\"header-panel\">\r\n        <button\r\n          id=\"menu-page-return\"\r\n          className=\"btn primaria position-fixed top-0 end-0 m-2 shadow\"\r\n          onClick={pushBackToMenu}\r\n        >\r\n          Voltar\r\n        </button>\r\n        <img className=\"img logo\" src=\"/vl-store-logo-white.svg\" />\r\n      </header>\r\n\r\n      <div className=\"mx-auto product-page d-flex justify-content-center align-items-center terciary p-4 flex-column rounded-5 white-light\">\r\n        <h3 className=\"text-center mb-4\">Produtos</h3>\r\n        <div className=\"row w-100 justify-content-between\">\r\n          <div className=\"p-0 col-12 col-md-12\">\r\n            <input\r\n              className=\"input-form primaria w-100\"\r\n              type=\"text\"\r\n              placeholder=\"Digite o produto...\"\r\n            />\r\n          </div>\r\n          <button className=\"btn primaria col-12 col-md-3 mt-2\">\r\n            Pesquisar\r\n          </button>\r\n          <button className=\"btn primaria col-12 col-md-3 mt-2\">Limpar</button>\r\n          <button\r\n            className=\"btn primaria col-12 col-md-3 mt-2\"\r\n            onClick={pushAddProductPage}\r\n          >\r\n            Adicionar produto\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"row w-100 gap-3 mt-4 justify-content-center\">\r\n          {loading ? (\r\n            <p>Carregando produtos...</p>\r\n          ) : (\r\n            <>\r\n              {produtos.length > 0 ? (\r\n                produtos.map((produto, index) => (\r\n                  <ProductCard key={index} product={produto} />\r\n                ))\r\n              ) : (\r\n                <p>Nenhum produto encontrado</p>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"row w-100 gap-3 justify-content-center mt-4\">\r\n          <button\r\n            className=\"btn col-3 primaria btn-paginacao\"\r\n            onClick={handlePrevPage}\r\n            disabled={currentPage === 1}\r\n          >\r\n            Anterior\r\n          </button>\r\n\r\n          <button\r\n            className=\"btn col-3 primaria btn-paginacao\"\r\n            onClick={handleNextPage}\r\n            disabled={currentPage === totalPages || totalPages === 0}\r\n          >\r\n            Próxima\r\n          </button>\r\n          <span className=\"text-center\">{currentPage}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}