{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/ui/styles/Login.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"errorMessage\": \"Login-module___LPLhG__errorMessage\",\n  \"floatingVisitorButton\": \"Login-module___LPLhG__floatingVisitorButton\",\n  \"formActions\": \"Login-module___LPLhG__formActions\",\n  \"formPanel\": \"Login-module___LPLhG__formPanel\",\n  \"header\": \"Login-module___LPLhG__header\",\n  \"inputField\": \"Login-module___LPLhG__inputField\",\n  \"inputGroup\": \"Login-module___LPLhG__inputGroup\",\n  \"linkText\": \"Login-module___LPLhG__linkText\",\n  \"linkTextHighlight\": \"Login-module___LPLhG__linkTextHighlight\",\n  \"loginBox\": \"Login-module___LPLhG__loginBox\",\n  \"logo\": \"Login-module___LPLhG__logo\",\n  \"pageContainer\": \"Login-module___LPLhG__pageContainer\",\n  \"primaryButton\": \"Login-module___LPLhG__primaryButton\",\n  \"signupLink\": \"Login-module___LPLhG__signupLink\",\n  \"welcomePanel\": \"Login-module___LPLhG__welcomePanel\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/danil/OneDrive/Documentos/2025/P6/web/Projeto/Front-end/my-next-app/src/pages/loginPage.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport Head from \"next/head\";\r\nimport { useRouter } from \"next/router\";\r\nimport Link from \"next/link\";\r\nimport styles from \"../ui/styles/Login.module.css\";\r\nimport axios from \"axios\";\r\n\r\nconsole.log(\"Conteúdo do objeto styles:\", styles);\r\n\r\nconst AuthPage: React.FC = () => {\r\n  const router = useRouter();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const pushInitialPage = () => {\r\n    router.push(\"/initialPage\");\r\n  };\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setLoading(true);\r\n\r\n    if (!email || !password) {\r\n      setError(\"Email e senha são obrigatórios.\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const payload = {\r\n        email: email,\r\n        senha: password,\r\n      };\r\n\r\n      const response = await axios.post(\r\n        \"http://localhost:9700/api/login\",\r\n        payload,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      const data = response.data;\r\n\r\n      if (response.status === 200 && data.success) {\r\n        // Armazena o token JWT e os dados do usuário\r\n        localStorage.setItem(\"jwtToken\", data.data.token);\r\n        localStorage.setItem(\"userData\", JSON.stringify(data.data.loja));\r\n\r\n        // Configura o Axios para enviar o token automaticamente em futuras requisições\r\n        axios.defaults.headers.common[\r\n          \"Authorization\"\r\n        ] = `Bearer ${data.data.token}`;\r\n\r\n        router.push(\"/menuPage\");\r\n      } else {\r\n        setError(data.message || \"Usuário ou senha incorretos.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Falha na chamada de login:\", err);\r\n      setError(\r\n        \"Falha na autenticação. Verifique sua conexão ou tente novamente.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>Login</title>\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n      </Head>\r\n      <div className={styles.pageContainer}>\r\n        <header className={styles.header}>\r\n          <img\r\n            className={styles.logo}\r\n            src=\"/vlStore.svg\"\r\n            alt=\"VL Store Logo\"\r\n            onClick={pushInitialPage}\r\n          />\r\n        </header>\r\n\r\n        <main className={styles.loginBox}>\r\n          <div className={styles.welcomePanel}>\r\n            <h2>Bem-vindo!</h2>\r\n            <p>Insira os seus dados de login para ter acesso ao sistema.</p>\r\n          </div>\r\n\r\n          <div className={styles.formPanel}>\r\n            <h3>Login</h3>\r\n            {error && <div className={styles.errorMessage}>{error}</div>}\r\n            <form onSubmit={handleLogin}>\r\n              <div className={styles.inputGroup}>\r\n                <input\r\n                  type=\"email\"\r\n                  className={styles.inputField}\r\n                  placeholder=\"Digite seu email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  disabled={loading}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className={styles.inputGroup}>\r\n                <input\r\n                  type=\"password\"\r\n                  className={styles.inputField}\r\n                  placeholder=\"Digite sua senha\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  disabled={loading}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className={styles.formActions}>\r\n                <button\r\n                  type=\"submit\"\r\n                  className={styles.primaryButton}\r\n                  disabled={loading}\r\n                >\r\n                  {loading ? \"Entrando...\" : \"Entrar\"}\r\n                </button>\r\n                <Link href=\"/recover\" className={styles.linkText}>\r\n                  Recuperar senha\r\n                </Link>\r\n              </div>\r\n\r\n              <div className={styles.signupLink}>\r\n                <p>\r\n                  Não possui conta?{\" \"}\r\n                  <Link\r\n                    href=\"/RegisterPage\"\r\n                    className={styles.linkTextHighlight}\r\n                  >\r\n                    Cadastrar\r\n                  </Link>\r\n                </p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthPage;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}