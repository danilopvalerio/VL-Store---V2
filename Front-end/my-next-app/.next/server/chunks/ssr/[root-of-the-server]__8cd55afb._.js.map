{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/danil/OneDrive/Documentos/2025/P6/web/PROJETOS/VL-Store---V2-develop/Front-end/my-next-app/src/ui/components/employees/employeeCardComponent.tsx"],"sourcesContent":["import { useRouter } from \"next/router\";\r\nimport { EmployeeCardProps } from \"../../../domain/interfaces/employees-interface\";\r\nimport axios from \"axios\";\r\n\r\nconst EmployeeCard: React.FC<EmployeeCardProps> = ({ employee }) => {\r\n  const router = useRouter();\r\n\r\n  const openDetailedEmployee = async (id_funcionario: string) => {\r\n    try {\r\n      const jwtToken = localStorage.getItem(\"jwtToken\");\r\n      const userData = localStorage.getItem(\"userData\");\r\n\r\n      if (!jwtToken || !userData) {\r\n        console.error(\"Usuário não autenticado.\");\r\n        return;\r\n      }\r\n\r\n      const response = await axios.get(\r\n        `http://localhost:9700/api/funcionarios/${id_funcionario}`,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${jwtToken}`,\r\n          },\r\n          timeout: 2000,\r\n        }\r\n      );\r\n\r\n      localStorage.setItem(\"selectedEmployee\", JSON.stringify(response.data));\r\n\r\n      router.push(\"/employeesDetail\");\r\n    } catch (error) {\r\n      alert(\r\n        \"Erro ao carregar detalhes do funcionário, tente novamente mais tarde.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"col-12 col-md-3 product-card rounded-5 p-3 d-flex justify-content-center flex-column\">\r\n      <p className=\"mt-2 card-title secondary p-1 m-1\">Nome: {employee.nome}</p>\r\n      <p className=\"card-title secondary p-1 m-1\">\r\n        Telefone: {employee.telefone}\r\n      </p>\r\n      <p className=\"card-title secondary p-1 m-1\">Email: {employee.email}</p>\r\n      <button\r\n        className=\"btn primaria w-100 mt-2\"\r\n        onClick={() => openDetailedEmployee(employee.id_funcionario)}\r\n      >\r\n        Detalhes\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeeCard;\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;;;;;AAEA,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE;IAC7D,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,uBAAuB,OAAO;QAClC,IAAI;YACF,MAAM,WAAW,aAAa,OAAO,CAAC;YACtC,MAAM,WAAW,aAAa,OAAO,CAAC;YAEtC,IAAI,CAAC,YAAY,CAAC,UAAU;gBAC1B,QAAQ,KAAK,CAAC;gBACd;YACF;YAEA,MAAM,WAAW,MAAM,0GAAA,CAAA,UAAK,CAAC,GAAG,CAC9B,CAAC,uCAAuC,EAAE,gBAAgB,EAC1D;gBACE,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,UAAU;gBACrC;gBACA,SAAS;YACX;YAGF,aAAa,OAAO,CAAC,oBAAoB,KAAK,SAAS,CAAC,SAAS,IAAI;YAErE,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,MACE;QAEJ;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAE,WAAU;;oBAAoC;oBAAO,SAAS,IAAI;;;;;;;0BACrE,qKAAC;gBAAE,WAAU;;oBAA+B;oBAC/B,SAAS,QAAQ;;;;;;;0BAE9B,qKAAC;gBAAE,WAAU;;oBAA+B;oBAAQ,SAAS,KAAK;;;;;;;0BAClE,qKAAC;gBACC,WAAU;gBACV,SAAS,IAAM,qBAAqB,SAAS,cAAc;0BAC5D;;;;;;;;;;;;AAKP;uCAEe","debugId":null}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/danil/OneDrive/Documentos/2025/P6/web/PROJETOS/VL-Store---V2-develop/Front-end/my-next-app/src/pages/employeesPage.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport EmployeeCard from \"@/ui/components/employees/employeeCardComponent\";\nimport { useRouter } from \"next/router\";\nimport \"../../public/css/products.css\";\nimport \"../../public/css/general.css\";\n\nconst EmployeesPage = () => {\n  const [employees, setEmployees] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [totalItems, setTotalItems] = useState(0);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const router = useRouter();\n\n  const LIMIT: number = 6;\n\n  const pushAddEmployeePage = () => {\n    router.push(\"AddEmployeePage\");\n  };\n\n  const pushBackToMenu = () => {\n    router.push(\"menuPage\");\n  };\n\n  const handleSearch = async (page = 1) => {\n    const jwtToken = localStorage.getItem(\"jwtToken\");\n    const userData = localStorage.getItem(\"userData\");\n\n    if (!jwtToken || !userData) {\n      router.push(\"/initialPage\");\n      return;\n    }\n\n    const parsedData = JSON.parse(userData);\n    const idLoja = parsedData.id_loja;\n\n    try {\n      const response = await axios.get(\n        `http://localhost:9700/api/funcionarios/loja/${idLoja}/busca/${encodeURIComponent(\n          searchTerm\n        )}?page=${page}&limit=${LIMIT}`,\n        {\n          headers: {\n            Authorization: `Bearer ${jwtToken}`,\n          },\n        }\n      );\n\n      setEmployees(response.data.data);\n      setTotalItems(response.data.count);\n      setTotalPages(response.data.totalPages);\n      setCurrentPage(response.data.page);\n    } catch (error) {\n      console.error(\"Erro ao buscar funcionários:\", error);\n    }\n  };\n\n  const fetchEmployees = async (page: number) => {\n    const jwtToken = localStorage.getItem(\"jwtToken\");\n    const userData = localStorage.getItem(\"userData\");\n\n    if (!jwtToken || !userData) {\n      router.push(\"/initialPage\");\n      return;\n    }\n\n    try {\n      const parsedData = JSON.parse(userData);\n      const idLoja = parsedData.id_loja;\n\n      const response = await axios.get(\n        `http://localhost:9700/api/funcionarios/loja/${idLoja}/paginado?page=${page}&limit=${LIMIT}`,\n        {\n          headers: {\n            Authorization: `Bearer ${jwtToken}`,\n          },\n          timeout: 2000,\n        }\n      );\n\n      setEmployees(response.data.data);\n      setCurrentPage(response.data.page);\n      setTotalPages(response.data.totalPages);\n      setTotalItems(response.data.totalItems);\n      setLoading(false);\n    } catch (error) {\n      console.error(\"Erro ao carregar funcionários:\", error);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchEmployees(1);\n  }, [router]);\n\n  const handleClearSearch = () => {\n    setSearchTerm(\"\");\n    fetchEmployees(1);\n  };\n\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      if (searchTerm.trim() !== \"\") {\n        handleSearch(currentPage + 1);\n      } else {\n        fetchEmployees(currentPage + 1);\n      }\n    }\n  };\n\n  const handlePrevPage = () => {\n    if (currentPage > 1) {\n      if (searchTerm.trim() !== \"\") {\n        handleSearch(currentPage - 1);\n      } else {\n        fetchEmployees(currentPage - 1);\n      }\n    }\n  };\n\n  return (\n    <div className=\"d-flex justify-content-between align-items-center flex-column\">\n      <header className=\"header-panel\">\n        <button\n          id=\"menu-page-return\"\n          className=\"btn primaria position-fixed top-0 end-0 m-2 shadow\"\n          onClick={pushBackToMenu}\n        >\n          Voltar\n        </button>\n        <img\n          className=\"img logo\"\n          src=\"/vl-store-logo-white.svg\"\n          alt=\"Logo VL Store\"\n        />\n      </header>\n\n      <div className=\"mx-auto product-page d-flex justify-content-center align-items-center terciary p-4 flex-column rounded-5 white-light\">\n        <h3 className=\"text-center mb-4\">Funcionários</h3>\n        <div className=\"row w-100 justify-content-between\">\n          <div className=\"p-0 col-12 col-md-12\">\n            <input\n              className=\"input-form primaria w-100\"\n              type=\"text\"\n              placeholder=\"Digite o nome do funcionário...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n          <button\n            className=\"btn primaria col-12 col-md-3 mt-2\"\n            onClick={() => handleSearch()}\n            disabled={!searchTerm.trim()}\n          >\n            Pesquisar\n          </button>\n          <button\n            className=\"btn primaria col-12 col-md-3 mt-2\"\n            onClick={handleClearSearch}\n            disabled={!searchTerm.trim()}\n          >\n            Limpar\n          </button>\n          <button\n            className=\"btn primaria col-12 col-md-3 mt-2\"\n            onClick={pushAddEmployeePage}\n          >\n            Adicionar funcionário\n          </button>\n        </div>\n\n        <div className=\"row w-100 gap-3 mt-4 justify-content-center\">\n          {loading ? (\n            <p>Carregando funcionários...</p>\n          ) : (\n            <>\n              {employees.length > 0 ? (\n                employees.map((employee, index) => (\n                  <EmployeeCard key={index} employee={employee} />\n                ))\n              ) : (\n                <p>Nenhum funcionário encontrado</p>\n              )}\n            </>\n          )}\n        </div>\n\n        <div className=\"row w-100 gap-3 justify-content-center mt-4\">\n          <button\n            className=\"btn col-3 primaria btn-paginacao\"\n            onClick={handlePrevPage}\n            disabled={currentPage === 1}\n          >\n            Anterior\n          </button>\n\n          <button\n            className=\"btn col-3 primaria btn-paginacao\"\n            onClick={handleNextPage}\n            disabled={currentPage === totalPages || totalPages === 0}\n          >\n            Próxima\n          </button>\n          <span className=\"text-center\">\n            Página {currentPage} de {totalPages}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EmployeesPage;\n"],"names":[],"mappings":"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","debugId":null}}]
}