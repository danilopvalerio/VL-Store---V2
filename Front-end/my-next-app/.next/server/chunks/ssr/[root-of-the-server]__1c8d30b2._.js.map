{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/danil/OneDrive/Documentos/2025/P6/web/Projeto/Front-end/my-next-app/src/utils/validationUtils.ts"],"sourcesContent":["export const isValidEmail = (email: string): boolean => {\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email);\r\n};\r\n\r\nexport const isValidCpfCnpj = (value: string): boolean => {\r\n  const digitsOnly = value.replace(/\\D/g, '');\r\n  return digitsOnly.length === 11 || digitsOnly.length === 14;\r\n};\r\n\r\nexport const isValidPassword = (password: string): boolean => {\r\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\r\n  return passwordRegex.test(password);\r\n};\r\n\r\nexport const extractDigitsOnly = (value: string): string => {\r\n  return value.replace(/\\D/g, '');\r\n};\r\n\r\nexport const convertToISODate = (date: string): string => {\r\n  const [day, month, year] = date.split('/');\r\n  if (!day || !month || !year) {\r\n    throw new Error('Data inválida');\r\n  }\r\n  return `${year}-${month}-${day}`;\r\n};"],"names":[],"mappings":";;;;;;;AAAO,MAAM,eAAe,CAAC;IAC3B,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC;AACzB;AAEO,MAAM,iBAAiB,CAAC;IAC7B,MAAM,aAAa,MAAM,OAAO,CAAC,OAAO;IACxC,OAAO,WAAW,MAAM,KAAK,MAAM,WAAW,MAAM,KAAK;AAC3D;AAEO,MAAM,kBAAkB,CAAC;IAC9B,MAAM,gBAAgB;IACtB,OAAO,cAAc,IAAI,CAAC;AAC5B;AAEO,MAAM,oBAAoB,CAAC;IAChC,OAAO,MAAM,OAAO,CAAC,OAAO;AAC9B;AAEO,MAAM,mBAAmB,CAAC;IAC/B,MAAM,CAAC,KAAK,OAAO,KAAK,GAAG,KAAK,KAAK,CAAC;IACtC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM;QAC3B,MAAM,IAAI,MAAM;IAClB;IACA,OAAO,GAAG,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK;AAClC","debugId":null}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/danil/OneDrive/Documentos/2025/P6/web/Projeto/Front-end/my-next-app/src/pages/loginPage.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\nimport { IMaskInput } from \"react-imask\";\r\nimport Link from \"next/link\";\r\nimport \"../../public/css/login.css\"; // Importação do CSS específico\r\n\r\nimport { StoreRegistration as StoreRegistrationData } from \"../domain/interfaces/store-registration-interface\";\r\nimport {\r\n  isValidEmail,\r\n  isValidCpfCnpj,\r\n  isValidPassword,\r\n  extractDigitsOnly,\r\n  convertToISODate,\r\n} from \"../utils/validationUtils\";\r\n\r\nconst StoreRegistration: React.FC = () => {\r\n  const router = useRouter();\r\n\r\n  const [storeName, setStoreName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [cpfCnpj, setCpfCnpj] = useState(\"\");\r\n  const [birthDate, setBirthDate] = useState(\"\");\r\n  const [telephone, setTelephone] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const pushInitialPage = () => {\r\n    router.push(\"/initialPage\");\r\n  };\r\n\r\n  const handleRegister = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n\r\n    if (\r\n      !storeName ||\r\n      !password ||\r\n      !email ||\r\n      !cpfCnpj ||\r\n      !birthDate ||\r\n      !telephone\r\n    ) {\r\n      setError(\"Todos os campos são obrigatórios.\");\r\n      return;\r\n    }\r\n\r\n    if (password !== confirmPassword) {\r\n      setError(\"As senhas não coincidem.\");\r\n      return;\r\n    }\r\n\r\n    if (!isValidEmail(email)) {\r\n      setError(\"Formato de e-mail inválido.\");\r\n      return;\r\n    }\r\n\r\n    if (!isValidCpfCnpj(cpfCnpj)) {\r\n      setError(\r\n        \"CPF/CNPJ inválido. Deve conter 11 dígitos para CPF ou 14 para CNPJ.\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (!isValidPassword(password)) {\r\n      setError(\r\n        \"A senha deve ter pelo menos 8 caracteres, incluindo uma letra maiúscula, uma letra minúscula, um número e um caractere especial.\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    const storeData: StoreRegistrationData = {\r\n      nome: storeName,\r\n      senha: password,\r\n      email,\r\n      cpf_cnpj_proprietario_loja: extractDigitsOnly(cpfCnpj),\r\n      data_nasc_proprietario: new Date(\r\n        convertToISODate(birthDate)\r\n      ).toISOString(),\r\n      telefone: extractDigitsOnly(telephone),\r\n    };\r\n\r\n    try {\r\n      setLoading(true);\r\n      await axios.post(\"http://localhost:9700/api/lojas\", storeData);\r\n\r\n      setSuccess(true);\r\n      setLoading(false);\r\n\r\n      setTimeout(() => {\r\n        router.push(\"/authPage\");\r\n      }, 1000);\r\n    } catch (error) {\r\n      setLoading(false);\r\n\r\n      if (axios.isAxiosError(error) && error.response) {\r\n        if (error.response.status === 400) {\r\n          setError(\"Dados inválidos. Verifique as informações fornecidas.\");\r\n        } else if (error.response.status === 409) {\r\n          setError(\"E-mail ou CPF/CNPJ já cadastrado.\");\r\n        } else {\r\n          setError(\r\n            `Erro no cadastro: ${\r\n              error.response.data.message || \"Tente novamente mais tarde.\"\r\n            }`\r\n          );\r\n        }\r\n      } else {\r\n        setError(\"Erro de conexão. Verifique sua internet e tente novamente.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-between flex-column min-vh-100\">\r\n      <header className=\"w-100\">\r\n        <div className=\"header-panel\">\r\n          <img\r\n            src=\"/vl-store-logo-white.svg\"\r\n            alt=\"Logo\"\r\n            className=\"img logo\"\r\n            onClick={pushInitialPage}\r\n            style={{ cursor: \"pointer\" }}\r\n          />\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"mx-auto login-register-block fine-transparent-border white-light d-flex justify-content-center align-items-center overflow-hidden w-75\">\r\n        <div className=\"row w-100 shadow overflow-hidden\">\r\n          {/* Painel de Boas-Vindas */}\r\n          <div className=\"col-md-6 text-white d-flex flex-column justify-content-center align-items-center text-center p-4 quartenary\">\r\n            <h4 className=\"m-3\">Bem-vindo!</h4>\r\n            <p className=\"w-75\">\r\n              Já possui conta? <Link href=\"/loginPage\">Entrar</Link>\r\n            </p>\r\n          </div>\r\n\r\n          {/* Formulário de Registro */}\r\n          <div className=\"col-md-6 p-4 terciary\">\r\n            <h3 className=\"text-center mb-4\">Cadastro</h3>\r\n\r\n            {success && (\r\n              <div className=\"alert alert-success\">\r\n                Loja cadastrada com sucesso! Redirecionando para o login...\r\n              </div>\r\n            )}\r\n\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n\r\n            <form onSubmit={handleRegister}>\r\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\r\n                <div className=\"col-12 w-100\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control input-form\"\r\n                    placeholder=\"Digite o nome da sua loja\"\r\n                    value={storeName}\r\n                    onChange={(e) => setStoreName(e.target.value)}\r\n                    disabled={loading}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\r\n                <div className=\"col-12 w-100\">\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"form-control input-form\"\r\n                    placeholder=\"Digite o seu e-mail\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    disabled={loading}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\r\n                <div className=\"col-12 w-100\">\r\n                  <IMaskInput\r\n                    mask={[\r\n                      { mask: \"000.000.000-00\" },\r\n                      { mask: \"00.000.000/0000-00\" },\r\n                    ]}\r\n                    className=\"form-control input-form\"\r\n                    placeholder=\"Digite o CPF ou CNPJ\"\r\n                    value={cpfCnpj}\r\n                    onAccept={(value: string) => setCpfCnpj(value)}\r\n                    unmask={false} // Mantém a formatação\r\n                    definitions={{\r\n                      \"#\": /[0-9]/,\r\n                    }}\r\n                    overwrite\r\n                    lazy={false} // Mostra a máscara imediatamente\r\n                    disabled={loading}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\r\n                <div className=\"col-12 w-100\">\r\n                  <IMaskInput\r\n                    mask=\"00/00/0000\"\r\n                    className=\"form-control input-form\"\r\n                    placeholder=\"Data de nascimento:  (dd/mm/aaaa)\"\r\n                    value={birthDate}\r\n                    onAccept={(value: string) => setBirthDate(value)}\r\n                    disabled={loading}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\r\n                <div className=\"col-12 w-100\">\r\n                  <IMaskInput\r\n                    mask=\"(00) 00000-0000\"\r\n                    className=\"form-control input-form\"\r\n                    placeholder=\"Telefone (Ex: (11) 99999-9999)\"\r\n                    value={telephone}\r\n                    onAccept={(value: string) => setTelephone(value)}\r\n                    disabled={loading}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\r\n                <div className=\"col-12 w-100\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control input-form\"\r\n                    placeholder=\"Digite sua senha\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    disabled={loading}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\r\n                <div className=\"col-12 w-100\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control input-form\"\r\n                    placeholder=\"Confirme sua senha\"\r\n                    value={confirmPassword}\r\n                    onChange={(e) => setConfirmPassword(e.target.value)}\r\n                    disabled={loading}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-3\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn primaria col-11 col-lg-5 mx-auto d-flex justify-content-center align-items-center\"\r\n                  disabled={loading}\r\n                >\r\n                  {loading ? \"Cadastrando...\" : \"Cadastrar\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <footer className=\"w-100\">\r\n        <div className=\"footer-panel\">\r\n          <button\r\n            className=\"btn primaria footerButton col-3 mx-auto d-flex justify-content-center align-items-center\"\r\n            onClick={pushInitialPage}\r\n          >\r\n            Entrar como visitante\r\n          </button>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StoreRegistration;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AAIA;;;;;;;;;;;;;;AAQA,MAAM,oBAA8B;IAClC,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,kBAAkB;QACtB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,iBAAiB,OAAO;QAC5B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IACE,CAAC,aACD,CAAC,YACD,CAAC,SACD,CAAC,WACD,CAAC,aACD,CAAC,WACD;YACA,SAAS;YACT;QACF;QAEA,IAAI,aAAa,iBAAiB;YAChC,SAAS;YACT;QACF;QAEA,IAAI,CAAC,CAAA,GAAA,wHAAA,CAAA,eAAY,AAAD,EAAE,QAAQ;YACxB,SAAS;YACT;QACF;QAEA,IAAI,CAAC,CAAA,GAAA,wHAAA,CAAA,iBAAc,AAAD,EAAE,UAAU;YAC5B,SACE;YAEF;QACF;QAEA,IAAI,CAAC,CAAA,GAAA,wHAAA,CAAA,kBAAe,AAAD,EAAE,WAAW;YAC9B,SACE;YAEF;QACF;QAEA,MAAM,YAAmC;YACvC,MAAM;YACN,OAAO;YACP;YACA,4BAA4B,CAAA,GAAA,wHAAA,CAAA,oBAAiB,AAAD,EAAE;YAC9C,wBAAwB,IAAI,KAC1B,CAAA,GAAA,wHAAA,CAAA,mBAAgB,AAAD,EAAE,YACjB,WAAW;YACb,UAAU,CAAA,GAAA,wHAAA,CAAA,oBAAiB,AAAD,EAAE;QAC9B;QAEA,IAAI;YACF,WAAW;YACX,MAAM,0GAAA,CAAA,UAAK,CAAC,IAAI,CAAC,mCAAmC;YAEpD,WAAW;YACX,WAAW;YAEX,WAAW;gBACT,OAAO,IAAI,CAAC;YACd,GAAG;QACL,EAAE,OAAO,OAAO;YACd,WAAW;YAEX,IAAI,0GAAA,CAAA,UAAK,CAAC,YAAY,CAAC,UAAU,MAAM,QAAQ,EAAE;gBAC/C,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;oBACjC,SAAS;gBACX,OAAO,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;oBACxC,SAAS;gBACX,OAAO;oBACL,SACE,CAAC,kBAAkB,EACjB,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI,+BAC/B;gBAEN;YACF,OAAO;gBACL,SAAS;YACX;QACF;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAO,WAAU;0BAChB,cAAA,qKAAC;oBAAI,WAAU;8BACb,cAAA,qKAAC;wBACC,KAAI;wBACJ,KAAI;wBACJ,WAAU;wBACV,SAAS;wBACT,OAAO;4BAAE,QAAQ;wBAAU;;;;;;;;;;;;;;;;0BAKjC,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBAAI,WAAU;;sCAEb,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAG,WAAU;8CAAM;;;;;;8CACpB,qKAAC;oCAAE,WAAU;;wCAAO;sDACD,qKAAC,qHAAA,CAAA,UAAI;4CAAC,MAAK;sDAAa;;;;;;;;;;;;;;;;;;sCAK7C,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAG,WAAU;8CAAmB;;;;;;gCAEhC,yBACC,qKAAC;oCAAI,WAAU;8CAAsB;;;;;;gCAKtC,uBAAS,qKAAC;oCAAI,WAAU;8CAAsB;;;;;;8CAE/C,qKAAC;oCAAK,UAAU;;sDACd,qKAAC;4CAAI,WAAU;sDACb,cAAA,qKAAC;gDAAI,WAAU;0DACb,cAAA,qKAAC;oDACC,MAAK;oDACL,WAAU;oDACV,aAAY;oDACZ,OAAO;oDACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;oDAC5C,UAAU;oDACV,QAAQ;;;;;;;;;;;;;;;;sDAKd,qKAAC;4CAAI,WAAU;sDACb,cAAA,qKAAC;gDAAI,WAAU;0DACb,cAAA,qKAAC;oDACC,MAAK;oDACL,WAAU;oDACV,aAAY;oDACZ,OAAO;oDACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oDACxC,UAAU;oDACV,QAAQ;;;;;;;;;;;;;;;;sDAKd,qKAAC;4CAAI,WAAU;sDACb,cAAA,qKAAC;gDAAI,WAAU;0DACb,cAAA,qKAAC,4HAAA,CAAA,aAAU;oDACT,MAAM;wDACJ;4DAAE,MAAM;wDAAiB;wDACzB;4DAAE,MAAM;wDAAqB;qDAC9B;oDACD,WAAU;oDACV,aAAY;oDACZ,OAAO;oDACP,UAAU,CAAC,QAAkB,WAAW;oDACxC,QAAQ;oDACR,aAAa;wDACX,KAAK;oDACP;oDACA,SAAS;oDACT,MAAM;oDACN,UAAU;oDACV,QAAQ;;;;;;;;;;;;;;;;sDAKd,qKAAC;4CAAI,WAAU;sDACb,cAAA,qKAAC;gDAAI,WAAU;0DACb,cAAA,qKAAC,4HAAA,CAAA,aAAU;oDACT,MAAK;oDACL,WAAU;oDACV,aAAY;oDACZ,OAAO;oDACP,UAAU,CAAC,QAAkB,aAAa;oDAC1C,UAAU;oDACV,QAAQ;;;;;;;;;;;;;;;;sDAKd,qKAAC;4CAAI,WAAU;sDACb,cAAA,qKAAC;gDAAI,WAAU;0DACb,cAAA,qKAAC,4HAAA,CAAA,aAAU;oDACT,MAAK;oDACL,WAAU;oDACV,aAAY;oDACZ,OAAO;oDACP,UAAU,CAAC,QAAkB,aAAa;oDAC1C,UAAU;oDACV,QAAQ;;;;;;;;;;;;;;;;sDAKd,qKAAC;4CAAI,WAAU;sDACb,cAAA,qKAAC;gDAAI,WAAU;0DACb,cAAA,qKAAC;oDACC,MAAK;oDACL,WAAU;oDACV,aAAY;oDACZ,OAAO;oDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC3C,UAAU;oDACV,QAAQ;;;;;;;;;;;;;;;;sDAKd,qKAAC;4CAAI,WAAU;sDACb,cAAA,qKAAC;gDAAI,WAAU;0DACb,cAAA,qKAAC;oDACC,MAAK;oDACL,WAAU;oDACV,aAAY;oDACZ,OAAO;oDACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;oDAClD,UAAU;oDACV,QAAQ;;;;;;;;;;;;;;;;sDAKd,qKAAC;4CAAI,WAAU;sDACb,cAAA,qKAAC;gDACC,MAAK;gDACL,WAAU;gDACV,UAAU;0DAET,UAAU,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQ1C,qKAAC;gBAAO,WAAU;0BAChB,cAAA,qKAAC;oBAAI,WAAU;8BACb,cAAA,qKAAC;wBACC,WAAU;wBACV,SAAS;kCACV;;;;;;;;;;;;;;;;;;;;;;AAOX;uCAEe","debugId":null}}]
}