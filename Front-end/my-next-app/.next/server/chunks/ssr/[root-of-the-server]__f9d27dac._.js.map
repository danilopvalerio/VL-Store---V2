{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/danil/OneDrive/Documentos/2025/P6/web/PROJETOS/VL-Store---V2-develop/Front-end/my-next-app/src/utils/validationUtils.ts"],"sourcesContent":["export const isValidEmail = (email: string): boolean => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n};\n\nexport const isValidCpfCnpj = (value: string): boolean => {\n  const digitsOnly = value.replace(/\\D/g, '');\n  return digitsOnly.length === 11 || digitsOnly.length === 14;\n};\n\nexport const isValidPassword = (password: string): boolean => {\n  const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n  return passwordRegex.test(password);\n};\n\nexport const extractDigitsOnly = (value: string): string => {\n  return value.replace(/\\D/g, '');\n};\n\nexport const convertToISODate = (date: string): string => {\n  const [day, month, year] = date.split('/');\n  if (!day || !month || !year) {\n    throw new Error('Data inválida');\n  }\n  return `${year}-${month}-${day}`;\n};"],"names":[],"mappings":";;;;;;;AAAO,MAAM,eAAe,CAAC;IAC3B,MAAM,aAAa;IACnB,OAAO,WAAW,IAAI,CAAC;AACzB;AAEO,MAAM,iBAAiB,CAAC;IAC7B,MAAM,aAAa,MAAM,OAAO,CAAC,OAAO;IACxC,OAAO,WAAW,MAAM,KAAK,MAAM,WAAW,MAAM,KAAK;AAC3D;AAEO,MAAM,kBAAkB,CAAC;IAC9B,MAAM,gBAAgB;IACtB,OAAO,cAAc,IAAI,CAAC;AAC5B;AAEO,MAAM,oBAAoB,CAAC;IAChC,OAAO,MAAM,OAAO,CAAC,OAAO;AAC9B;AAEO,MAAM,mBAAmB,CAAC;IAC/B,MAAM,CAAC,KAAK,OAAO,KAAK,GAAG,KAAK,KAAK,CAAC;IACtC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM;QAC3B,MAAM,IAAI,MAAM;IAClB;IACA,OAAO,GAAG,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK;AAClC","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/danil/OneDrive/Documentos/2025/P6/web/PROJETOS/VL-Store---V2-develop/Front-end/my-next-app/src/pages/RegisterPage.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport axios from \"axios\";\nimport { IMaskInput } from \"react-imask\";\nimport Link from \"next/link\";\nimport \"../../public/css/login.css\"; // Importação do CSS específico\n\nimport { StoreRegistration as StoreRegistrationData } from \"../domain/interfaces/store-registration-interface\";\nimport {\n  isValidEmail,\n  isValidCpfCnpj,\n  isValidPassword,\n  extractDigitsOnly,\n  convertToISODate,\n} from \"../utils/validationUtils\";\n\nconst StoreRegistration: React.FC = () => {\n  const router = useRouter();\n\n  const [storeName, setStoreName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [cpfCnpj, setCpfCnpj] = useState(\"\");\n  const [birthDate, setBirthDate] = useState(\"\");\n  const [telephone, setTelephone] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const pushInitialPage = () => {\n    router.push(\"/initialPage\");\n  };\n\n  const handleRegister = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setSuccess(false);\n\n    if (\n      !storeName ||\n      !password ||\n      !email ||\n      !cpfCnpj ||\n      !birthDate ||\n      !telephone\n    ) {\n      setError(\"Todos os campos são obrigatórios.\");\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      setError(\"As senhas não coincidem.\");\n      return;\n    }\n\n    if (!isValidEmail(email)) {\n      setError(\"Formato de e-mail inválido.\");\n      return;\n    }\n\n    if (!isValidCpfCnpj(cpfCnpj)) {\n      setError(\n        \"CPF/CNPJ inválido. Deve conter 11 dígitos para CPF ou 14 para CNPJ.\"\n      );\n      return;\n    }\n\n    if (!isValidPassword(password)) {\n      setError(\n        \"A senha deve ter pelo menos 8 caracteres, incluindo uma letra maiúscula, uma letra minúscula, um número e um caractere especial.\"\n      );\n      return;\n    }\n\n    const storeData: StoreRegistrationData = {\n      nome: storeName,\n      senha: password,\n      email: email.toLowerCase(),\n      cpf_cnpj_proprietario_loja: extractDigitsOnly(cpfCnpj),\n      data_nasc_proprietario: new Date(\n        convertToISODate(birthDate)\n      ).toISOString(),\n      telefone: extractDigitsOnly(telephone),\n    };\n\n    try {\n      setLoading(true);\n      await axios.post(\"http://localhost:9700/api/lojas\", storeData);\n\n      setSuccess(true);\n      setLoading(false);\n\n      setTimeout(() => {\n        router.push(\"/initialPage\");\n      }, 2000);\n    } catch (error) {\n      setLoading(false);\n\n      if (axios.isAxiosError(error) && error.response) {\n        if (error.response.status === 400) {\n          setError(\n            `Dados inválidos. Verifique as informações fornecidas.\\n ${error.response.data.message}`\n          );\n        } else if (error.response.status === 409) {\n          setError(\"E-mail ou CPF/CNPJ já cadastrado.\");\n        } else {\n          setError(\n            `Erro no cadastro: ${\n              error.response.data.message || \"Tente novamente mais tarde.\"\n            }`\n          );\n        }\n      } else {\n        setError(\"Erro de conexão. Verifique sua internet e tente novamente.\");\n      }\n    }\n  };\n\n  return (\n    <div className=\"d-flex justify-content-between flex-column min-vh-100\">\n      <header className=\"w-100\">\n        <div className=\"header-panel\">\n          <img\n            src=\"/vl-store-logo-white.svg\"\n            alt=\"Logo\"\n            className=\"img logo\"\n            onClick={pushInitialPage}\n            style={{ cursor: \"pointer\" }}\n          />\n        </div>\n      </header>\n\n      <div className=\"mx-auto login-register-block fine-transparent-border white-light d-flex justify-content-center align-items-center overflow-hidden w-75\">\n        <div className=\"row w-100 shadow overflow-hidden\">\n          {/* Painel de Boas-Vindas */}\n          <div className=\"col-md-6 text-white d-flex flex-column justify-content-center align-items-center text-center p-4 quartenary\">\n            <h4 className=\"m-3\">Bem-vindo!</h4>\n            <p className=\"w-75\">\n              Já possui conta? <Link href=\"/loginPage\">Entrar</Link>\n            </p>\n          </div>\n\n          {/* Formulário de Registro */}\n          <div className=\"col-md-6 p-4 terciary\">\n            <h3 className=\"text-center mb-4\">Cadastro</h3>\n\n            {success && (\n              <div className=\"alert alert-success\">\n                Loja cadastrada com sucesso! Redirecionando para o login...\n              </div>\n            )}\n\n            {error && <div className=\"alert alert-danger\">{error}</div>}\n\n            <form onSubmit={handleRegister}>\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\n                <div className=\"col-12 w-100\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control input-form\"\n                    placeholder=\"Digite o nome da sua loja\"\n                    value={storeName}\n                    onChange={(e) => setStoreName(e.target.value)}\n                    disabled={loading}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\n                <div className=\"col-12 w-100\">\n                  <input\n                    type=\"email\"\n                    className=\"form-control input-form\"\n                    placeholder=\"Digite o seu e-mail\"\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                    disabled={loading}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\n                <div className=\"col-12 w-100\">\n                  <IMaskInput\n                    mask={[\n                      { mask: \"000.000.000-00\" },\n                      { mask: \"00.000.000/0000-00\" },\n                    ]}\n                    className=\"form-control input-form\"\n                    placeholder=\"Digite o CPF ou CNPJ\"\n                    value={cpfCnpj}\n                    onAccept={(value: string) => setCpfCnpj(value)}\n                    unmask={false} // Mantém a formatação\n                    definitions={{\n                      \"#\": /[0-9]/,\n                    }}\n                    overwrite\n                    lazy={false} // Mostra a máscara imediatamente\n                    disabled={loading}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\n                <div className=\"col-12 w-100\">\n                  <IMaskInput\n                    mask=\"00/00/0000\"\n                    className=\"form-control input-form\"\n                    placeholder=\"Data de nascimento\"\n                    value={birthDate}\n                    onAccept={(value: string) => setBirthDate(value)}\n                    disabled={loading}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\n                <div className=\"col-12 w-100\">\n                  <IMaskInput\n                    mask=\"(00) 00000-0000\"\n                    className=\"form-control input-form\"\n                    placeholder=\"Telefone (Ex: (11) 99999-9999)\"\n                    value={telephone}\n                    onAccept={(value: string) => setTelephone(value)}\n                    disabled={loading}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\n                <div className=\"col-12 w-100\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control input-form\"\n                    placeholder=\"Digite sua senha\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    disabled={loading}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"input-block row mb-2 align-items-center mb-3\">\n                <div className=\"col-12 w-100\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control input-form\"\n                    placeholder=\"Confirme sua senha\"\n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    disabled={loading}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"row mt-3\">\n                <button\n                  type=\"submit\"\n                  className=\"btn primaria col-11 col-lg-5 mx-auto d-flex justify-content-center align-items-center\"\n                  disabled={loading}\n                >\n                  {loading ? \"Cadastrando...\" : \"Cadastrar\"}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n      <footer className=\"w-100\">\n        <div className=\"footer-panel\">\n          {/* <button\n            className=\"btn primaria footerButton col-3 mx-auto d-flex justify-content-center align-items-center\"\n            onClick={pushInitialPage}\n          >\n            Entrar como visitante\n          </button> */}\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default StoreRegistration;\n"],"names":[],"mappings":"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","debugId":null}}]
}